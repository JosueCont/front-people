{"ast":null,"code":"import { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport React, { useEffect, useState, useRef } from 'react';\nimport { render } from 'react-dom';\nimport MainLayout from '../../../../layout/MainLayout';\nimport { Row, Col, Typography, Table, Breadcrumb, Button, Form, Input, Select, DatePicker, notification, Space, Switch } from 'antd';\nimport { useRouter } from \"next/router\";\nimport axiosApi from \"../../../../libs/axiosApi\";\nimport { route } from 'next/dist/next-server/server/router';\nimport cookie from \"js-cookie\";\nimport 'froala-editor/css/froala_style.min.css';\nimport 'froala-editor/css/froala_editor.pkgd.min.css';\nimport FroalaEditorComponent from 'react-froala-wysiwyg';\nlet userToken = cookie.get(\"userToken\") ? cookie.get(\"userToken\") : null;\nexport default function Newrelease() {\n  const [form] = Form.useForm();\n  const {\n    Title\n  } = Typography;\n  const {\n    TextArea\n  } = Input;\n  const route = useRouter();\n  const {\n    0: message,\n    1: setMessage\n  } = useState(null);\n  const {\n    0: sending,\n    1: setSending\n  } = useState(false);\n  const {\n    0: userId,\n    1: setUserId\n  } = useState(null);\n  /* const editor = useRef(null)\n  const [content, setContent] = useState('') */\n\n  let json = JSON.parse(userToken);\n  console.log(json); //setUserId(json.user_id);\n\n  useEffect(() => {\n    if (json.user_id) {\n      setUserId(json.user_i);\n    }\n  }, []);\n\n  const saveNotification = async values => {\n    console.log(message);\n    values['created_by'] = \"d25d4447bbd5423bbf2d5603cf553b81\";\n    values.message = message;\n    console.log(values);\n    setSending(true);\n\n    try {\n      let response = await axiosApi.post(`/noticenter/notification/`, values);\n      let data = response.data;\n      console.log('data', data);\n      notification['success']({\n        message: 'Notification Title',\n        description: 'This is the content of the notification. This is the content of the notification. This is the content of the notification.'\n      });\n      route.push('/comunication/releases');\n    } catch (error) {\n      console.log('error', error);\n    } finally {\n      setSending(false);\n    }\n  };\n\n  const onCancel = () => {\n    route.push('/comunication/releases');\n  };\n\n  return /*#__PURE__*/_jsxs(MainLayout, {\n    currentKey: \"4.1\",\n    children: [/*#__PURE__*/_jsxs(Breadcrumb, {\n      children: [/*#__PURE__*/_jsx(Breadcrumb.Item, {\n        children: \"Home\"\n      }), /*#__PURE__*/_jsx(Breadcrumb.Item, {\n        children: \"Comunicados\"\n      }), /*#__PURE__*/_jsx(Breadcrumb.Item, {\n        children: \"Nuevo\"\n      })]\n    }), /*#__PURE__*/_jsx(\"div\", {\n      className: \"container back-white\",\n      style: {\n        width: '100%'\n      },\n      children: /*#__PURE__*/_jsx(Row, {\n        justify: 'center',\n        children: /*#__PURE__*/_jsx(Col, {\n          span: \"23\",\n          style: {\n            padding: '20px 0 30px 0'\n          },\n          children: /*#__PURE__*/_jsx(Form, {\n            form: form,\n            layout: \"horizontal\",\n            onFinish: saveNotification,\n            labelCol: {\n              xs: 24,\n              sm: 24,\n              md: 5\n            },\n            children: /*#__PURE__*/_jsxs(Row, {\n              children: [/*#__PURE__*/_jsx(Col, {\n                span: 24,\n                children: /*#__PURE__*/_jsx(Title, {\n                  level: 3,\n                  children: \"Datos Generales\"\n                })\n              }), /*#__PURE__*/_jsxs(Col, {\n                xs: 24,\n                sm: 24,\n                md: 13,\n                lg: 13,\n                xl: 13,\n                children: [/*#__PURE__*/_jsx(Form.Item, {\n                  name: \"category\",\n                  label: \"Categoria\",\n                  labelAlign: 'left',\n                  children: /*#__PURE__*/_jsxs(Select, {\n                    style: {\n                      width: 250\n                    },\n                    children: [/*#__PURE__*/_jsx(Option, {\n                      value: \"rmb\",\n                      children: \"RMB\"\n                    }), /*#__PURE__*/_jsx(Option, {\n                      value: \"dollar\",\n                      children: \"Dollar\"\n                    })]\n                  })\n                }), /*#__PURE__*/_jsx(Form.Item, {\n                  label: \"Titulo\",\n                  name: \"title\",\n                  labelAlign: 'left',\n                  children: /*#__PURE__*/_jsx(Input, {\n                    className: 'formItemPayment'\n                  })\n                }), /*#__PURE__*/_jsx(Form.Item, {\n                  name: \"message\",\n                  label: \"Mensaje\",\n                  labelAlign: \"left\",\n                  children: /*#__PURE__*/_jsx(FroalaEditorComponent, {\n                    tag: \"textarea\",\n                    model: message,\n                    onModelChange: setMessage\n                  })\n                })]\n              }), /*#__PURE__*/_jsx(Col, {\n                span: 24,\n                children: /*#__PURE__*/_jsx(Title, {\n                  level: 3,\n                  children: \"Segmentaci\\xF3n\"\n                })\n              }), /*#__PURE__*/_jsx(Col, {\n                xs: 24,\n                sm: 24,\n                md: 13,\n                lg: 13,\n                xl: 13,\n                children: /*#__PURE__*/_jsx(Form.Item, {\n                  name: \"send_to_all\",\n                  label: \"Enviar a todos\",\n                  labelAlign: \"left\",\n                  children: /*#__PURE__*/_jsx(Switch, {})\n                })\n              }), /*#__PURE__*/_jsx(Col, {\n                xs: 24,\n                sm: 24,\n                md: 13,\n                lg: 13,\n                xl: 13,\n                children: /*#__PURE__*/_jsxs(Row, {\n                  children: [/*#__PURE__*/_jsxs(Col, {\n                    xs: 24,\n                    sm: 24,\n                    md: 12,\n                    lg: 12,\n                    xl: 12,\n                    children: [/*#__PURE__*/_jsx(Form.Item, {\n                      name: 'company',\n                      label: \"Empresa\",\n                      labelCol: {\n                        span: 10\n                      },\n                      children: /*#__PURE__*/_jsxs(Select, {\n                        children: [/*#__PURE__*/_jsx(Option, {\n                          value: \"rmb\",\n                          children: \"RMB\"\n                        }), /*#__PURE__*/_jsx(Option, {\n                          value: \"dollar\",\n                          children: \"Dollar\"\n                        })]\n                      })\n                    }), /*#__PURE__*/_jsx(Form.Item, {\n                      name: 'company',\n                      label: \"Puesto de trabajo\",\n                      labelCol: {\n                        span: 10\n                      },\n                      children: /*#__PURE__*/_jsxs(Select, {\n                        children: [/*#__PURE__*/_jsx(Option, {\n                          value: \"rmb\",\n                          children: \"RMB\"\n                        }), /*#__PURE__*/_jsx(Option, {\n                          value: \"dollar\",\n                          children: \"Dollar\"\n                        })]\n                      })\n                    })]\n                  }), /*#__PURE__*/_jsxs(Col, {\n                    xs: 24,\n                    sm: 24,\n                    md: 12,\n                    lg: 12,\n                    xl: 12,\n                    children: [/*#__PURE__*/_jsx(Form.Item, {\n                      name: 'person_type',\n                      label: \"Tipo de persona\",\n                      labelCol: {\n                        span: 10\n                      },\n                      children: /*#__PURE__*/_jsxs(Select, {\n                        children: [/*#__PURE__*/_jsx(Option, {\n                          value: \"rmb\",\n                          children: \"RMB\"\n                        }), /*#__PURE__*/_jsx(Option, {\n                          value: \"dollar\",\n                          children: \"Dollar\"\n                        })]\n                      })\n                    }), /*#__PURE__*/_jsx(Form.Item, {\n                      name: 'gender',\n                      label: \"Genero\",\n                      labelCol: {\n                        span: 10\n                      },\n                      children: /*#__PURE__*/_jsxs(Select, {\n                        children: [/*#__PURE__*/_jsx(Option, {\n                          value: \"rmb\",\n                          children: \"RMB\"\n                        }), /*#__PURE__*/_jsx(Option, {\n                          value: \"dollar\",\n                          children: \"Dollar\"\n                        })]\n                      })\n                    })]\n                  })]\n                })\n              }), /*#__PURE__*/_jsxs(Col, {\n                span: 24,\n                style: {\n                  textAlign: 'right'\n                },\n                children: [/*#__PURE__*/_jsx(Button, {\n                  onClick: () => onCancel(),\n                  disabled: sending,\n                  style: {\n                    padding: '0 50px',\n                    margin: '0 10px'\n                  },\n                  children: \"Cancelar\"\n                }), /*#__PURE__*/_jsx(Button, {\n                  htmlType: \"submit\",\n                  loading: sending,\n                  type: \"primary\",\n                  style: {\n                    padding: '0 50px',\n                    margin: '0 10px'\n                  },\n                  children: \"Enviar\"\n                })]\n              })]\n            })\n          })\n        })\n      })\n    })]\n  });\n}","map":null,"metadata":{},"sourceType":"module"}