{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport React, { useEffect, useState, useRef } from 'react';\nimport { render } from 'react-dom';\nimport MainLayout from '../../../../layout/MainLayout';\nimport { Row, Col, Typography, Table, Breadcrumb, Button, Form, Input, Select, DatePicker, notification, Space, Switch } from 'antd';\nimport { useRouter } from \"next/router\";\nimport axiosApi from \"../../../../libs/axiosApi\";\nimport { route } from 'next/dist/next-server/server/router';\nimport cookie from \"js-cookie\";\nimport 'froala-editor/css/froala_style.min.css';\nimport 'froala-editor/css/froala_editor.pkgd.min.css';\nimport FroalaEditorComponent from 'react-froala-wysiwyg';\nvar userToken = cookie.get(\"userToken\") ? cookie.get(\"userToken\") : null;\nexport default function Newrelease() {\n  var _Form$useForm = Form.useForm(),\n      _Form$useForm2 = _slicedToArray(_Form$useForm, 1),\n      form = _Form$useForm2[0];\n\n  var Title = Typography.Title;\n  var TextArea = Input.TextArea;\n  var route = useRouter();\n\n  var _useState = useState(null),\n      message = _useState[0],\n      setMessage = _useState[1];\n\n  var _useState2 = useState(false),\n      sending = _useState2[0],\n      setSending = _useState2[1];\n\n  var _useState3 = useState(null),\n      userId = _useState3[0],\n      setUserId = _useState3[1];\n  /* const editor = useRef(null)\n  const [content, setContent] = useState('') */\n\n\n  var json = JSON.parse(userToken);\n  console.log(json); //setUserId(json.user_id);\n\n  useEffect(function () {\n    if (json.user_id) {\n      setUserId(json.user_i);\n    }\n  }, []);\n\n  var saveNotification = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(values) {\n      var response, data;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              console.log(message);\n              values['created_by'] = \"d25d4447bbd5423bbf2d5603cf553b81\";\n              values.message = message;\n              console.log(values);\n              setSending(true);\n              _context.prev = 5;\n              _context.next = 8;\n              return axiosApi.post(\"/noticenter/notification/\", values);\n\n            case 8:\n              response = _context.sent;\n              data = response.data;\n              console.log('data', data);\n              notification['success']({\n                message: 'Notification Title',\n                description: 'This is the content of the notification. This is the content of the notification. This is the content of the notification.'\n              });\n              route.push('/comunication/releases');\n              _context.next = 18;\n              break;\n\n            case 15:\n              _context.prev = 15;\n              _context.t0 = _context[\"catch\"](5);\n              console.log('error', _context.t0);\n\n            case 18:\n              _context.prev = 18;\n              setSending(false);\n              return _context.finish(18);\n\n            case 21:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[5, 15, 18, 21]]);\n    }));\n\n    return function saveNotification(_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  var onCancel = function onCancel() {\n    route.push('/comunication/releases');\n  };\n\n  return /*#__PURE__*/_jsxs(MainLayout, {\n    currentKey: \"4.1\",\n    children: [/*#__PURE__*/_jsxs(Breadcrumb, {\n      children: [/*#__PURE__*/_jsx(Breadcrumb.Item, {\n        children: \"Home\"\n      }), /*#__PURE__*/_jsx(Breadcrumb.Item, {\n        children: \"Comunicados\"\n      }), /*#__PURE__*/_jsx(Breadcrumb.Item, {\n        children: \"Nuevo\"\n      })]\n    }), /*#__PURE__*/_jsx(\"div\", {\n      className: \"container back-white\",\n      style: {\n        width: '100%'\n      },\n      children: /*#__PURE__*/_jsx(Row, {\n        justify: 'center',\n        children: /*#__PURE__*/_jsx(Col, {\n          span: \"23\",\n          style: {\n            padding: '20px 0 30px 0'\n          },\n          children: /*#__PURE__*/_jsx(Form, {\n            form: form,\n            layout: \"horizontal\",\n            onFinish: saveNotification,\n            labelCol: {\n              xs: 24,\n              sm: 24,\n              md: 5\n            },\n            children: /*#__PURE__*/_jsxs(Row, {\n              children: [/*#__PURE__*/_jsx(Col, {\n                span: 24,\n                children: /*#__PURE__*/_jsx(Title, {\n                  level: 3,\n                  children: \"Datos Generales\"\n                })\n              }), /*#__PURE__*/_jsxs(Col, {\n                xs: 24,\n                sm: 24,\n                md: 13,\n                lg: 13,\n                xl: 13,\n                children: [/*#__PURE__*/_jsx(Form.Item, {\n                  name: \"category\",\n                  label: \"Categoria\",\n                  labelAlign: 'left',\n                  children: /*#__PURE__*/_jsxs(Select, {\n                    style: {\n                      width: 250\n                    },\n                    children: [/*#__PURE__*/_jsx(Option, {\n                      value: \"rmb\",\n                      children: \"RMB\"\n                    }), /*#__PURE__*/_jsx(Option, {\n                      value: \"dollar\",\n                      children: \"Dollar\"\n                    })]\n                  })\n                }), /*#__PURE__*/_jsx(Form.Item, {\n                  label: \"Titulo\",\n                  name: \"title\",\n                  labelAlign: 'left',\n                  children: /*#__PURE__*/_jsx(Input, {\n                    className: 'formItemPayment'\n                  })\n                }), /*#__PURE__*/_jsx(Form.Item, {\n                  name: \"message\",\n                  label: \"Mensaje\",\n                  labelAlign: \"left\",\n                  children: /*#__PURE__*/_jsx(FroalaEditorComponent, {\n                    tag: \"textarea\",\n                    model: message,\n                    onModelChange: setMessage\n                  })\n                })]\n              }), /*#__PURE__*/_jsx(Col, {\n                span: 24,\n                children: /*#__PURE__*/_jsx(Title, {\n                  level: 3,\n                  children: \"Segmentaci\\xF3n\"\n                })\n              }), /*#__PURE__*/_jsx(Col, {\n                xs: 24,\n                sm: 24,\n                md: 13,\n                lg: 13,\n                xl: 13,\n                children: /*#__PURE__*/_jsx(Form.Item, {\n                  name: \"send_to_all\",\n                  label: \"Enviar a todos\",\n                  labelAlign: \"left\",\n                  children: /*#__PURE__*/_jsx(Switch, {})\n                })\n              }), /*#__PURE__*/_jsx(Col, {\n                xs: 24,\n                sm: 24,\n                md: 13,\n                lg: 13,\n                xl: 13,\n                children: /*#__PURE__*/_jsxs(Row, {\n                  children: [/*#__PURE__*/_jsxs(Col, {\n                    xs: 24,\n                    sm: 24,\n                    md: 12,\n                    lg: 12,\n                    xl: 12,\n                    children: [/*#__PURE__*/_jsx(Form.Item, {\n                      name: 'company',\n                      label: \"Empresa\",\n                      labelCol: {\n                        span: 10\n                      },\n                      children: /*#__PURE__*/_jsxs(Select, {\n                        children: [/*#__PURE__*/_jsx(Option, {\n                          value: \"rmb\",\n                          children: \"RMB\"\n                        }), /*#__PURE__*/_jsx(Option, {\n                          value: \"dollar\",\n                          children: \"Dollar\"\n                        })]\n                      })\n                    }), /*#__PURE__*/_jsx(Form.Item, {\n                      name: 'company',\n                      label: \"Puesto de trabajo\",\n                      labelCol: {\n                        span: 10\n                      },\n                      children: /*#__PURE__*/_jsxs(Select, {\n                        children: [/*#__PURE__*/_jsx(Option, {\n                          value: \"rmb\",\n                          children: \"RMB\"\n                        }), /*#__PURE__*/_jsx(Option, {\n                          value: \"dollar\",\n                          children: \"Dollar\"\n                        })]\n                      })\n                    })]\n                  }), /*#__PURE__*/_jsxs(Col, {\n                    xs: 24,\n                    sm: 24,\n                    md: 12,\n                    lg: 12,\n                    xl: 12,\n                    children: [/*#__PURE__*/_jsx(Form.Item, {\n                      name: 'person_type',\n                      label: \"Tipo de persona\",\n                      labelCol: {\n                        span: 10\n                      },\n                      children: /*#__PURE__*/_jsxs(Select, {\n                        children: [/*#__PURE__*/_jsx(Option, {\n                          value: \"rmb\",\n                          children: \"RMB\"\n                        }), /*#__PURE__*/_jsx(Option, {\n                          value: \"dollar\",\n                          children: \"Dollar\"\n                        })]\n                      })\n                    }), /*#__PURE__*/_jsx(Form.Item, {\n                      name: 'gender',\n                      label: \"Genero\",\n                      labelCol: {\n                        span: 10\n                      },\n                      children: /*#__PURE__*/_jsxs(Select, {\n                        children: [/*#__PURE__*/_jsx(Option, {\n                          value: \"rmb\",\n                          children: \"RMB\"\n                        }), /*#__PURE__*/_jsx(Option, {\n                          value: \"dollar\",\n                          children: \"Dollar\"\n                        })]\n                      })\n                    })]\n                  })]\n                })\n              }), /*#__PURE__*/_jsxs(Col, {\n                span: 24,\n                style: {\n                  textAlign: 'right'\n                },\n                children: [/*#__PURE__*/_jsx(Button, {\n                  onClick: function onClick() {\n                    return onCancel();\n                  },\n                  disabled: sending,\n                  style: {\n                    padding: '0 50px',\n                    margin: '0 10px'\n                  },\n                  children: \"Cancelar\"\n                }), /*#__PURE__*/_jsx(Button, {\n                  htmlType: \"submit\",\n                  loading: sending,\n                  type: \"primary\",\n                  style: {\n                    padding: '0 50px',\n                    margin: '0 10px'\n                  },\n                  children: \"Enviar\"\n                })]\n              })]\n            })\n          })\n        })\n      })\n    })]\n  });\n}","map":null,"metadata":{},"sourceType":"module"}