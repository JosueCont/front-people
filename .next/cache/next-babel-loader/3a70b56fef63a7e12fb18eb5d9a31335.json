{"ast":null,"code":"import { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport React, { useState, useEffect, forwardRef, useImperativeHandle } from \"react\";\nimport { Row, Col, Button, Typography, Form, Input, Modal, notification } from \"antd\";\nimport { injectIntl } from \"react-intl\";\nimport { FormattedMessage } from \"react-intl\";\nimport { useRouter } from \"next/router\";\nimport axiosApi from \"../../libs/axiosApi\";\nconst ModalCreateNotification = /*#__PURE__*/forwardRef((props, ref) => {\n  const router = useRouter();\n  const {\n    Title\n  } = Typography;\n  const [form] = Form.useForm();\n  /* const [loading, setLoading] = useState(false); */\n\n  const {\n    0: visible,\n    1: setVisible\n  } = useState(false);\n  const {\n    0: loading,\n    1: setLoading\n  } = useState(false);\n  useImperativeHandle(ref, () => ({\n    getAlert() {\n      alert(\"getAlert from Child\");\n    },\n\n    showModal() {\n      setVisible(true);\n    }\n\n  }));\n\n  const handleOk = values => {\n    form.submit();\n  };\n\n  const onReset = () => {\n    form.resetFields();\n  };\n\n  const submitForm = async values => {\n    values[\"created_by\"] = \"d25d4447bbd5423bbf2d5603cf553b81\";\n\n    try {\n      let response = await axiosApi.post(`/noticenter/notification/`, values);\n      let data = response.data;\n      onReset();\n      setVisible(false);\n      notification[\"success\"]({\n        message: \"Notification Title\",\n        description: \"This is the content of the notification. This is the content of the notification. This is the content of the notification.\"\n      });\n      props.reloadData();\n    } catch (error) {\n      console.log(error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleCancel = () => {\n    setVisible(false);\n    onReset();\n  };\n\n  return /*#__PURE__*/_jsx(Modal, {\n    visible: visible,\n    title: \"Title\",\n    footer: [/*#__PURE__*/_jsx(Button, {\n      onClick: handleCancel,\n      children: \"Return\"\n    }, \"back\"), /*#__PURE__*/_jsx(Button, {\n      loading: loading,\n      type: \"primary\",\n      onClick: handleOk,\n      children: \"Submit\"\n    }, \"submit\")],\n    children: /*#__PURE__*/_jsxs(Form, {\n      layout: \"vertical\",\n      form: form,\n      onFinish: submitForm,\n      children: [/*#__PURE__*/_jsx(Form.Item, {\n        label: \"Titulo\",\n        name: \"title\",\n        children: /*#__PURE__*/_jsx(Input, {\n          className: \"formItemPayment\"\n        })\n      }), /*#__PURE__*/_jsx(Form.Item, {\n        label: \"Mensaje\",\n        name: \"message\",\n        children: /*#__PURE__*/_jsx(Input.TextArea, {})\n      })]\n    })\n  });\n});\nexport default ModalCreateNotification;","map":null,"metadata":{},"sourceType":"module"}