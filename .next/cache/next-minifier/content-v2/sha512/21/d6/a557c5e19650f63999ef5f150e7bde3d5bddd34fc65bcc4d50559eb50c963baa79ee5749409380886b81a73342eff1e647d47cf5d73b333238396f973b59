{"code":"_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[38],{\"+OE/\":function(e,t,n){\"use strict\";n.r(t);var a=n(\"KQm4\"),c=n(\"o0o1\"),r=n.n(c),o=n(\"HaE+\"),s=n(\"ODXe\"),i=n(\"nKUr\"),l=n(\"q1tI\"),u=n(\"nOHt\"),d=n(\"Ol7k\"),p=n(\"wFql\"),f=n(\"ZTPi\"),m=n(\"Vl3Y\"),b=n(\"tsqr\"),j=n(\"bE4q\"),h=n(\"W9HT\"),O=n(\"BMrR\"),v=n(\"kPKH\"),x=n(\"wx14\"),g=n(\"rePB\"),y=n(\"TSYQ\"),w=n.n(y),E=n(\"H84U\"),C=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&\"function\"===typeof Object.getOwnPropertySymbols){var c=0;for(a=Object.getOwnPropertySymbols(e);c<a.length;c++)t.indexOf(a[c])<0&&Object.prototype.propertyIsEnumerable.call(e,a[c])&&(n[a[c]]=e[a[c]])}return n},P=function(e){return l.createElement(E.a,null,(function(t){var n,a=t.getPrefixCls,c=t.direction,r=e.prefixCls,o=e.type,s=void 0===o?\"horizontal\":o,i=e.orientation,u=void 0===i?\"center\":i,d=e.className,p=e.children,f=e.dashed,m=e.plain,b=C(e,[\"prefixCls\",\"type\",\"orientation\",\"className\",\"children\",\"dashed\",\"plain\"]),j=a(\"divider\",r),h=u.length>0?\"-\".concat(u):u,O=!!p,v=w()(j,\"\".concat(j,\"-\").concat(s),(n={},Object(g.a)(n,\"\".concat(j,\"-with-text\"),O),Object(g.a)(n,\"\".concat(j,\"-with-text\").concat(h),O),Object(g.a)(n,\"\".concat(j,\"-dashed\"),!!f),Object(g.a)(n,\"\".concat(j,\"-plain\"),!!m),Object(g.a)(n,\"\".concat(j,\"-rtl\"),\"rtl\"===c),n),d);return l.createElement(\"div\",Object(x.a)({className:v},b,{role:\"separator\"}),p&&l.createElement(\"span\",{className:\"\".concat(j,\"-inner-text\")},p))}))},N=n(\"2/Rp\"),k=n(\"5rEg\"),T=n(\"kaz8\"),z=n(\"foez\"),S=n(\"vDqi\"),q=n.n(S),_=n(\"OcYQ\"),B=d.a.Content,R=p.a.Title,I=f.a.TabPane;t.default=function(){var e=m.a.useForm(),t=Object(s.a)(e,1)[0],n=Object(u.useRouter)(),c=Object(l.useState)(null),d=c[0],p=c[1],x=Object(l.useState)(!1),g=x[0],y=x[1],w=Object(l.useState)([]),E=w[0],C=w[1],S=Object(l.useState)(!1),M=S[0],L=S[1],A={\"client-id\":_.b,\"Content-Type\":\"application/json\"},D={},F=function(){var e=Object(o.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:p(!0),q.a.post(_.c+\"/group/create/\",D,{headers:A}).then((function(e){200===e.status&&(p(!1),t.setFieldsValue({name:\"\",perms:[]}),C([]),n.push({pathname:\"/groups\"}),b.b.success({content:\"Group saved successfully\",className:\"custom-class\",style:{marginTop:\"20vh\"}}))})).catch((function(e){b.b.error({content:\"An error occurred\",className:\"custom-class\",style:{marginTop:\"20vh\"}}),console.log(e)}));case 2:case\"end\":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Q=function(){var e=Object(o.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:p(!0),q.a.post(_.c+\"/group/edit/\",D,{headers:A}).then((function(e){200===e.status&&(p(!1),t.setFieldsValue({id:\"\",name:\"\",perms:[]}),C([]),n.push({pathname:\"/groups\"}),b.b.success({content:\"Group saved successfully\",className:\"custom-class\",style:{marginTop:\"20vh\"}}))})).catch((function(e){b.b.error({content:\"An error occurred\",className:\"custom-class\",style:{marginTop:\"20vh\"}}),console.log(e)}));case 2:case\"end\":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),V=function(){var e=Object(o.a)(r.a.mark((function e(n){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:p(!0),D={id:n},q.a.post(_.c+\"/group/get/\",D,{headers:A}).then((function(e){if(200===e.status){var n=e.data.data;t.setFieldsValue({id:n._id.$oid.toString(),name:n.name,perms:n.perms}),C(n.perms),p(!1),E>=0&&(L(!0),G(n.perms)),console.log(\"Perms\",E)}})).catch((function(e){console.log(e)}));case 3:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(l.useEffect)((function(){var e=n.query.id;console.log(n.query),void 0!==e?(V(e),y(!0)):y(!1)}),[]);function H(e){if(console.log(\"The link was clicked.\",e.target.name,e.target.checked),0==M){var t=E.indexOf(e.target.name);t>-1?e.target.checked?C([].concat(Object(a.a)(E),[e.target.name])):E.splice(t,1):e.target.checked&&C([].concat(Object(a.a)(E),[e.target.name]))}}var G=function(e){e.length>0&&(e.forEach((function(e){var t=document.getElementById(e);\"undefined\"!=t&&0==t.checked&&t.click()})),L(!1))};return Object(i.jsxs)(z.a,{currentKey:\"1\",children:[Object(i.jsxs)(j.a,{style:{margin:\"16px 0\"},children:[Object(i.jsx)(j.a.Item,{children:\"Inicio\"}),Object(i.jsx)(j.a.Item,{children:\"Person\"})]}),Object(i.jsx)(B,{className:\"site-layout\",children:Object(i.jsx)(h.a,{tip:\"Loading...\",spinning:d,children:Object(i.jsx)(\"div\",{className:\"site-layout-background\",style:{padding:24,minHeight:380,height:\"100%\"},children:Object(i.jsxs)(\"div\",{style:{padding:24},children:[Object(i.jsxs)(O.a,{children:[Object(i.jsx)(v.a,{span:24,children:!0===g?Object(i.jsx)(R,{level:3,children:\"Editar Grupos\"}):Object(i.jsx)(R,{level:3,children:\"Crear Grupos\"})}),Object(i.jsx)(P,{style:{marginTop:\"2px\"}}),Object(i.jsx)(v.a,{span:24,children:Object(i.jsx)(m.a,{form:t,onFinish:function(e){console.log(\"Received values of form: \",e),(D=e).perms=E,g?Q():F()},layout:\"vertical\",initialValues:{id:\"\",name:\"\",perms:[]},scrollToFirstError:!0,children:Object(i.jsxs)(O.a,{children:[Object(i.jsx)(v.a,{span:24,children:Object(i.jsx)(\"div\",{style:{float:\"right\",marginBottom:\"5px\"},children:Object(i.jsxs)(m.a.Item,{span:24,children:[Object(i.jsx)(N.a,{style:{marginRight:\"5px\"},onClick:function(){return n.push({pathname:\"/groups\"})},children:\"Regresar\"}),Object(i.jsx)(N.a,{type:\"primary\",htmlType:\"submit\",children:\"Guardar\"})]})})}),Object(i.jsxs)(v.a,{lg:18,md:18,xs:24,children:[!0===g?Object(i.jsx)(m.a.Item,{name:\"id\",hidden:!0,rules:[{required:!0,message:\"Please input the name!\"}],children:Object(i.jsx)(k.a,{placeholder:\"Nombre\"})}):null,Object(i.jsx)(m.a.Item,{name:\"name\",rules:[{required:!0,message:\"Please input the name!\"}],span:24,children:Object(i.jsx)(k.a,{placeholder:\"Nombre\"})})]})]})})})]}),Object(i.jsx)(O.a,{children:Object(i.jsx)(v.a,{span:24,children:Object(i.jsx)(f.a,{type:\"card\",children:Object(i.jsx)(I,{tab:\"People\",id:\"tabPeople\",name:\"tabPeople\",children:[{name:\"person\",value:\"people.person\"},{name:\"company\",value:\"people.company\"},{name:\"comunication\",value:\"people.comunication\"}].map((function(e){return Object(i.jsxs)(O.a,{style:{marginTop:\"20px\"},children:[Object(i.jsx)(v.a,{xl:12,md:4,xs:24,children:e.name}),Object(i.jsxs)(v.a,{xl:12,md:20,xs:24,children:[Object(i.jsx)(T.a,{name:e.value+\".can.create\",id:e.value+\".can.create\",onClick:H,children:\"Crear\"}),Object(i.jsx)(T.a,{name:e.value+\".can.edit\",id:e.value+\".can.edit\",onClick:H,children:\"Editar\"}),Object(i.jsx)(T.a,{name:e.value+\".can.delete\",id:e.value+\".can.delete\",onClick:H,children:\"Eliminar\"}),Object(i.jsx)(T.a,{name:e.value+\".can.view\",id:e.value+\".can.view\",onClick:H,children:\"Ver\"})]})]})}))},\"1\")})})})]})})})})]})}},\"5rEg\":function(e,t,n){\"use strict\";var a=n(\"mh/l\"),c=n(\"rePB\"),r=n(\"q1tI\"),o=n(\"TSYQ\"),s=n.n(o),i=n(\"H84U\"),l=function(e){return r.createElement(i.a,null,(function(t){var n,a=t.getPrefixCls,o=t.direction,i=e.prefixCls,l=e.className,u=void 0===l?\"\":l,d=a(\"input-group\",i),p=s()(d,(n={},Object(c.a)(n,\"\".concat(d,\"-lg\"),\"large\"===e.size),Object(c.a)(n,\"\".concat(d,\"-sm\"),\"small\"===e.size),Object(c.a)(n,\"\".concat(d,\"-compact\"),e.compact),Object(c.a)(n,\"\".concat(d,\"-rtl\"),\"rtl\"===o),n),u);return r.createElement(\"span\",{className:p,style:e.style,onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave,onFocus:e.onFocus,onBlur:e.onBlur},e.children)}))},u=n(\"wx14\"),d=n(\"c+Xe\"),p=n(\"l+S1\"),f=n(\"2/Rp\"),m=n(\"3Nzz\"),b=n(\"0n0R\"),j=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&\"function\"===typeof Object.getOwnPropertySymbols){var c=0;for(a=Object.getOwnPropertySymbols(e);c<a.length;c++)t.indexOf(a[c])<0&&Object.prototype.propertyIsEnumerable.call(e,a[c])&&(n[a[c]]=e[a[c]])}return n},h=r.forwardRef((function(e,t){var n,o,l=e.prefixCls,h=e.inputPrefixCls,O=e.className,v=e.size,x=e.suffix,g=e.enterButton,y=void 0!==g&&g,w=e.addonAfter,E=e.loading,C=e.disabled,P=e.onSearch,N=e.onChange,k=j(e,[\"prefixCls\",\"inputPrefixCls\",\"className\",\"size\",\"suffix\",\"enterButton\",\"addonAfter\",\"loading\",\"disabled\",\"onSearch\",\"onChange\"]),T=r.useContext(i.b),z=T.getPrefixCls,S=T.direction,q=r.useContext(m.b),_=v||q,B=r.useRef(null),R=function(e){var t;document.activeElement===(null===(t=B.current)||void 0===t?void 0:t.input)&&e.preventDefault()},I=function(e){var t;P&&P(null===(t=B.current)||void 0===t?void 0:t.input.value,e)},M=z(\"input-search\",l),L=z(\"input\",h),A=\"boolean\"===typeof y||\"undefined\"===typeof y?r.createElement(p.a,null):null,D=\"\".concat(M,\"-button\"),F=y||{},Q=F.type&&!0===F.type.__ANT_BUTTON;o=Q||\"button\"===F.type?Object(b.a)(F,Object(u.a)({onMouseDown:R,onClick:I,key:\"enterButton\"},Q?{className:D,size:_}:{})):r.createElement(f.a,{className:D,type:y?\"primary\":void 0,size:_,disabled:C,key:\"enterButton\",onMouseDown:R,onClick:I,loading:E,icon:A},y),w&&(o=[o,Object(b.a)(w,{key:\"addonAfter\"})]);var V=s()(M,(n={},Object(c.a)(n,\"\".concat(M,\"-rtl\"),\"rtl\"===S),Object(c.a)(n,\"\".concat(M,\"-\").concat(_),!!_),Object(c.a)(n,\"\".concat(M,\"-with-button\"),!!y),n),O);return r.createElement(a.a,Object(u.a)({ref:Object(d.a)(B,t),onPressEnter:I},k,{size:_,prefixCls:L,addonAfter:o,suffix:x,onChange:function(e){e&&e.target&&\"click\"===e.type&&P&&P(e.target.value,e),N&&N(e)},className:V,disabled:C}))}));h.displayName=\"Search\";var O=h,v=n(\"whJP\"),x=n(\"ODXe\"),g=n(\"bT9E\"),y=n(\"9BLJ\"),w={icon:{tag:\"svg\",attrs:{viewBox:\"64 64 896 896\",focusable:\"false\"},children:[{tag:\"path\",attrs:{d:\"M942.2 486.2Q889.47 375.11 816.7 305l-50.88 50.88C807.31 395.53 843.45 447.4 874.7 512 791.5 684.2 673.4 766 512 766q-72.67 0-133.87-22.38L323 798.75Q408 838 512 838q288.3 0 430.2-300.3a60.29 60.29 0 000-51.5zm-63.57-320.64L836 122.88a8 8 0 00-11.32 0L715.31 232.2Q624.86 186 512 186q-288.3 0-430.2 300.3a60.3 60.3 0 000 51.5q56.69 119.4 136.5 191.41L112.48 835a8 8 0 000 11.31L155.17 889a8 8 0 0011.31 0l712.15-712.12a8 8 0 000-11.32zM149.3 512C232.6 339.8 350.7 258 512 258c54.54 0 104.13 9.36 149.12 28.39l-70.3 70.3a176 176 0 00-238.13 238.13l-83.42 83.42C223.1 637.49 183.3 582.28 149.3 512zm246.7 0a112.11 112.11 0 01146.2-106.69L401.31 546.2A112 112 0 01396 512z\"}},{tag:\"path\",attrs:{d:\"M508 624c-3.46 0-6.87-.16-10.25-.47l-52.82 52.82a176.09 176.09 0 00227.42-227.42l-52.82 52.82c.31 3.38.47 6.79.47 10.25a111.94 111.94 0 01-112 112z\"}}]},name:\"eye-invisible\",theme:\"outlined\"},E=n(\"6VBw\"),C=function(e,t){return r.createElement(E.a,Object.assign({},e,{ref:t,icon:w}))};C.displayName=\"EyeInvisibleOutlined\";var P=r.forwardRef(C),N=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&\"function\"===typeof Object.getOwnPropertySymbols){var c=0;for(a=Object.getOwnPropertySymbols(e);c<a.length;c++)t.indexOf(a[c])<0&&Object.prototype.propertyIsEnumerable.call(e,a[c])&&(n[a[c]]=e[a[c]])}return n},k={click:\"onClick\",hover:\"onMouseOver\"},T=r.forwardRef((function(e,t){var n=Object(r.useState)(!1),o=Object(x.a)(n,2),l=o[0],d=o[1],p=function(){e.disabled||d(!l)},f=function(n){var o=n.getPrefixCls,i=e.className,d=e.prefixCls,f=e.inputPrefixCls,m=e.size,b=e.visibilityToggle,j=N(e,[\"className\",\"prefixCls\",\"inputPrefixCls\",\"size\",\"visibilityToggle\"]),h=o(\"input\",f),O=o(\"input-password\",d),v=b&&function(t){var n,a=e.action,o=e.iconRender,s=k[a]||\"\",i=(void 0===o?function(){return null}:o)(l),u=(n={},Object(c.a)(n,s,p),Object(c.a)(n,\"className\",\"\".concat(t,\"-icon\")),Object(c.a)(n,\"key\",\"passwordIcon\"),Object(c.a)(n,\"onMouseDown\",(function(e){e.preventDefault()})),Object(c.a)(n,\"onMouseUp\",(function(e){e.preventDefault()})),n);return r.cloneElement(r.isValidElement(i)?i:r.createElement(\"span\",null,i),u)}(O),x=s()(O,i,Object(c.a)({},\"\".concat(O,\"-\").concat(m),!!m)),y=Object(u.a)(Object(u.a)({},Object(g.a)(j,[\"suffix\",\"iconRender\"])),{type:l?\"text\":\"password\",className:x,prefixCls:h,suffix:v});return m&&(y.size=m),r.createElement(a.a,Object(u.a)({ref:t},y))};return r.createElement(i.a,null,f)}));T.defaultProps={action:\"click\",visibilityToggle:!0,iconRender:function(e){return e?r.createElement(y.a,null):r.createElement(P,null)}},T.displayName=\"Password\";var z=T;a.a.Group=l,a.a.Search=O,a.a.TextArea=v.a,a.a.Password=z;t.a=a.a},OcYQ:function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return a})),n.d(t,\"c\",(function(){return c})),n.d(t,\"b\",(function(){return r}));var a=\"https://demo.people.hiumanlab.com\",c=\"https://khonnect.hiumanlab.com\",r=\"5fa42a1ca6f5f821bbe7fbea\"},q55h:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/groups/add\",function(){return n(\"+OE/\")}])}},[[\"q55h\",0,2,1,3,6,5,4,7,8,9,10,12,14]]]);","extractedComments":[]}